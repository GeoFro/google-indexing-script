"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var _chunkV4Z4TKLKjs = require('./chunk-V4Z4TKLK.js');var _chunkNFCCRGSQjs = require('./chunk-NFCCRGSQ.js');var _sitemapper = require('sitemapper'); var _sitemapper2 = _interopRequireDefault(_sitemapper);async function l(r,a){let s=`https://www.googleapis.com/webmasters/v3/sites/${encodeURIComponent(a)}/sitemaps`,t=await _chunkV4Z4TKLKjs.b.call(void 0, s,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(t.status===403)return console.error("\u{1F510} This service account doesn't have access to this site."),[];if(t.status>=300)return console.error("\u274C Failed to get list of sitemaps."),console.error(`Response was: ${t.status}`),console.error(await t.text()),[];let o=await t.json();return o.sitemap?o.sitemap.filter(e=>e.path!==void 0&&e.path!==null).map(e=>e.path):(console.error("\u274C No sitemaps found, add them to Google Search Console and try again."),[])}async function h(r,a){let s=await l(r,a),t=[];for(let o of s){let e=new (0, _sitemapper2.default)({url:o}),{sites:i}=await e.fetch();t=[...t,...i]}return[s,[...new Set(t)]]}var u=_chunkNFCCRGSQjs.a.call(void 0, ()=>{_chunkV4Z4TKLKjs.c.call(void 0, )});exports.a = h; exports.b = u;
//# sourceMappingURL=chunk-QOJ77Y22.js.map